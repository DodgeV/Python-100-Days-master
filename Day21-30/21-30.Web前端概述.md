# Web前端概述

> **说明**：本文使用的部分插图来自*Jon Duckett*先生的*[HTML and CSS: Design and Build Websites](https://www.amazon.cn/dp/1118008189/ref=sr_1_5?__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&keywords=html+%26+css&qid=1554609325&s=gateway&sr=8-5)* 一书

### HTML简述

1. XML(extension markup language)：用于定义文档结构
2. XHTML：可以认为是HTML的一种，完全符合XML的规范，基本已弃用
3. 而HTML(Hyper Text Markup Language 超文本标记语言)是用于描述页面结构的语言，即页面里面有什么东西，该东西表示什么含义
4. W3C是纯英文，一般用MDN([Mozilla Development Network](https://developer.mozilla.org/zh-CN/))查中文文档
5. 浏览器包括两部分：shell和core(JS执行引擎、渲染引擎)，开发时最好使用有自己内核的浏览器：IE(Trident)/Firefox(Gecko)/Chrome(Webkit/Blink)/Safari(Webkit)/Opera(Presto/Blink)

#### HTML历史

1. 1991年10月：一个非正式CERN（[欧洲核子研究中心](https://zh.wikipedia.org/wiki/%E6%AD%90%E6%B4%B2%E6%A0%B8%E5%AD%90%E7%A0%94%E7%A9%B6%E7%B5%84%E7%B9%94)）文件首次公开18个HTML标签，这个文件的作者是物理学家[蒂姆·伯纳斯-李](https://zh.wikipedia.org/wiki/%E8%92%82%E5%A7%86%C2%B7%E4%BC%AF%E7%BA%B3%E6%96%AF-%E6%9D%8E)，因此他是[万维网](https://zh.wikipedia.org/wiki/%E4%B8%87%E7%BB%B4%E7%BD%91)的发明者，也是[万维网联盟](https://zh.wikipedia.org/wiki/%E4%B8%87%E7%BB%B4%E7%BD%91%E8%81%94%E7%9B%9F)的主席。
2. 1995年11月：HTML 2.0标准发布（RFC 1866）。
3. 1997年1月：HTML 3.2作为[W3C](https://zh.wikipedia.org/wiki/W3C)(万维网联盟)推荐标准发布。
4. 1997年12月：HTML 4.0作为W3C推荐标准发布。
5. 1999年12月：HTML4.01作为W3C推荐标准发布。
6. 2008年1月：HTML5由W3C作为工作草案发布。
7. 2011年5月：W3C将HTML5推进至“最终征求”（Last Call）阶段。
8. 2012年12月：W3C指定HTML5作为“候选推荐”阶段。
9. 2014年10月：HTML5作为稳定W3C推荐标准发布，这意味着HTML5的标准化已经完成。

#### HTML5新特性

1. 引入原生多媒体支持（audio和video标签）
2. 引入可编程内容（canvas标签）
3. 引入语义Web（article、aside、details、figure、footer、header、nav、section、summary等标签）
4. 引入新的表单控件（日历、邮箱、搜索、滑条等）
5. 引入对离线存储更好的支持（localStorage和sessionStorage）
6. 引入对定位、拖放、WebSocket、后台任务等的支持

#### HTML页面结构

- 先写文档声明，告诉浏览器文档使用的HTML标准是HTML5，不写则自动怪异渲染模式

  ```HTML
  <!Doctype Html> <!-- Emmet插件可以自动生成 -->
  <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
  <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
  ```
  
- html：根元素，一个页面最多只能一个，并且该元素是所有其他元素的祖先元素或父元素，HTML5中可以不写，其中`lang`属性为language，全局属性，表示该元素内部使用的文字是使用哪一种自然语言书写而成的，一般浏览器的语音自动播报可以识别，是SEO技术的一种，告诉搜索引擎爬虫，我们的网站是关于什么内容的，以方便爬虫的爬取，这样靠前的概率更大。
  
  ```html
  <html lang="en">英文</html>
  <html lang="cmn-hans">中文/中国大陆官方用语-汉语简体</html>
  ```
  
  - head：文档头的内容不会显示在页面上
    - title：网页标题
    - meta：文档的元数据，表示附加信息，其中`charset`属性指定网页内容编码
    
    ```html
    <head>
      <meta charset="utf-8">
      <meta content="服装" name="keywords">
      <meta content="美丽的衣服" name="description">
    </head>
    ```

  - body：文档体，页面上所有要参与显示的元素，都应该放置到文档体中。
    ```html
    <body>
      <!-- 这是一段注释，注释不能够嵌套
          便于阅读
       -->
    </body>
    ```

- 属性(可以不写，区分大小写，一般用小写)分为全局属性和局部属性，大部分为局部属性
  - 属性主要用于描述元素的额外信息，属性 = 属性名 + 属性值
  - `id`：唯一标识
  - `class`：元素所属的类，用于区分不同的元素
  - `title`：元素的额外信息（鼠标悬浮时会显示工具提示文本）在`head`里面显示为网页标题，也可以单独写一个元素

#### HTML实体(HTML Entity)

- 实体字符（实体替换符）通常用于在页面中显示一些特殊符号，有两种方式：`&`+`单词`，`&`+`#`+`数字`，后加上分号结束
- 小于符号：`&lt;`，大于符号：`&gt;`，版权符号：`&copy;`
- 空格符号：`&nbsp;`，想显示空格更推荐用CSS
- &符号本身：`&amp;`
![](./res/字符实体.png)

#### 语义化(Semantic)

1. 每个HTML元素都有对应的固定的含义：a元素(超链接)，p元素(段落)，h1元素(一级标题)
2. 所有元素都只能确定内容而不能决定展示效果，应该由CSS决定，而浏览器带有默认的CSS样式  故每个元素都有一些默认样式
3. **选择什么元素取决于内容的含义，而不是显示出的效果**
4. 为什么需要语义化？
> 1. 为了搜索引擎优化(SEO)，因为每隔一段时间，搜索引擎会从整个互联网中抓取网页源码，语义化可以方便搜索引擎理解网页
> 2. 为了让浏览器理解网页，各种各样的插件、语音模式/阅读模式等

### 元素(element)承载内容

- 其他叫法：标签/标记，HTML5支持的元素包括：[元素周期表](https://www.xuanfengge.com/funny/html5/element/)
- 兄弟元素：拥有同一个父元素
- 元素 = 起始标记（begin tag） + 结束标记（end tag） + 元素内容（element content） + 元素属性
- 元素包含关系：以前：块级元素可以包含行级元素，行级元素不可以包含块级元素，a元素除外。现在：元素的包含关系由元素的内容类别决定。一般在mdn里面搜索某元素可以包含的元素
> 1. 容器元素中可以包含任何元素
> 2. a元素中几乎可以包含任何元素
> 3. 某些元素有固定的子元素（ul>li，ol>li，dl>dt+dd）
> 4. 标题元素和段落元素不能相互嵌套，并且不能包含容器元素

#### 空元素

```html
<!-- 空元素/单标签没有结束标记，有如下两种写法 -->
<meta charset="utf-8">
<meta charset="utf-8" />
<img src="https://w.wallhaven.cc/full/zm/wallhaven-zm52dj.jpg" alt="https://w.wallhaven.cc/full/zm/wallhaven-zm52dj.jpg" class="shrinkToFit" width="168" height="94">
```

- 块级元素 / 行级元素：以前：某些元素在显示时会独占一行(块状元素)，而某些元素不会(行级元素)，到了HTML5里面，已经弃用这种说法，因为块状或者行只是显示效果，可以完全用CSS代替

#### 文本(text)

- 标题（heading）和段落（paragraph）
  - `h1`~`h6`：一级到六级标题
  - `p`：因为很容易被替换掉，所以在开发阶段会用到乱数假文测试
- 上标（superscript）和下标（subscript）
  - sup
  - sub
- 一般情况下，连续空白字符(空格、换行、缩进)会自动折叠为一个空格，此时可以使用`pre`
- `pre`：无语义，表示预格式化文本元素，内部出现的内容会按照源代码格式显示在页面上，而不会折叠
  - 该元素通常外套code元素，用于显示一些代码
  - 其功能本质就是有一个默认的css属性`style="white-space:pre"`
  - 故该元素逻辑上也是一个无语义元素
- `span`：无语义，仅用于设置样式，比如块级行级元素

- 折行（break）和水平标尺（horizontal ruler）
  - `br`：空元素，用于分段/换行
  - `hr`：空元素，表示水平线

- 语义化标签，旨在让标签有自己的含义
  - 加粗和强调 - `strong`
  - 斜体 - `em`
  - 专业名词 - `i`
  - 关键字或产品名称 - `b`
  - 内容的修改 - `ins` / `del`
  - 代码 - `code`
  - 引用 - `blockquote`
  - 缩写词和首字母缩写词 - `abbr` / `acronym`
  - 引文 - `cite`
  - 所有者联系地址信息(成段/斜体) - `address`

#### 列表(list)

 - 有序列表（ordered list）- `ol`
   - 只能用一种子元素：`li`(list item)
   - `type`属性：`1`用数字排序，`i`用罗马数字，`a`用小写字母排序，`A`用大写字母
   - `reverse`属性：从语义上倒过来排序
   - `start`属性：从第几个序号开始排
   - 曾经被弃用过，除非必要否则一般用CSS控制序列号
 - 无序列表（unordered list）- `ul`
   - 用法类似有序列表，依然只能用一种子元素`li`
   - `type`属性：`disc`序号呈实心圆，`square`方形，`circle`空心圆
   - 常用于制作菜单或新闻列表等功能子项差不多一样的功能，父子结构更易于维护
 - 定义列表（definition list）- `dl`
   - 子元素`dt`(definition title)标题
   - 子元素`dd`(definition description)描述

#### 链接(anchor)

- 一般是`a`元素

- `href`属性通常用于表示跳转地址(页面链接)，或者是跳转到某个锚链接(锚点：只要还在该页面，点击后就不会刷新)

  ```html
  <a href="#chapter2">跳转到章节2</a>
  <h2 id="chapter2">
      章节2
  </h2>
  <a href="#">回到顶部</a>
  <a href="https://www.baidu.com">访问百度</a>
  ```

- 协议名://主机名:端口号/路径
- schema://host:port/path
- 主机名：域名、IP地址

- **路径的写法**：站内资源是当前网站的资源，可以使用绝对路径或相对路径；站外资源是非当前网站的资源，只能使用绝对路径，书写绝对路径时，若协议与当前页面的协议相同时，可省略协议

- 相对路径以`./`开头表示当前资源所在目录并且`./`可以省略，`../`表示上一级目录

  ![](./res/相对路径.png)

- 功能链接：点击后，触发某个功能
  - 执行JS代码：`javascript:`
  - 发送邮件，要求用户计算机上安装邮件发送软件：`mailto:`
  - 拨号，要求用户计算机上安装拨号软件，或使用移动端访问，`tel:`

- `target`属性表示跳转窗口位置，有三种取值
  - `_self`:在当前页面窗口中打开，默认值
  - `_blank`:在新窗口打开 
  - 其他元素的name属性，比如iframe

#### 图像(image)

- `img`元素是空元素，没有结束标记和内容
- 图像存储位置(source)：`src`后面加图片的绝对/相对路径
- 图片失效时：`alt`显示替代的文字，此时img元素的特性和普通行盒一样，无法设置宽高
- 与`a`元素联用，点击图片跳转到指定地址
- 与`map`元素联用，实现点击某个区域跳转页面

  - `name`属性类似定义锚点，对应`img`元素的`usemap`属性
  - 只能加一种子元素`area`
    - `shape`属性定义区域形状，圆形/矩形/多边形：`circle`/`rect`/`poly`，衡量坐标时，使用专业的衡量工具：ps/pxcook/cutpro
    - `coords`定义坐标(原点在左上角)，圆心坐标+圆的半径//矩形左上角坐标+右下角坐标//多边形需要依次描述每个点的坐标
    - `href`定义跳转的目标地址，
    - `alt`显示替代的文字，
    - `target`表示跳转窗口位置(一般取`_blank`打开新窗口)

- 图片附带信息时一般不直接加，而是使用语义化标签：

  - `figure` 用于将图片、图片标题、描述包裹起来，让电脑理解信息是与图片关联的
  - `figcaption`一般在里面包含`h2`元素，用于显示图片的标题

```html
<figure>
    <a href="https://baike.baidu.com/item/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%82/19127928?fromtitle=%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97&fromid=19126915&fr=aladdin" target="_blank">
        <img usemap="#your-name" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=48672361,1945858683&fm=26&gp=0.jpg" alt="这是《你的名字》的海报">
    </a>
    <figcaption>
        <h2>你的名字</h2>
    </figcaption>
    <p>
        《你的名字。》是由新海诚执导，由神木隆之介、上白石萌音担任主要配音的一部原创日本动画电影。作品于2016年8月26日在日本上映。中国内地于2016年12月2日上映。作品讲述了男女高中生在梦中相遇，并寻找彼此的故事。中国大陆于2017年8月26日全网首播。
    </p>
</figure>

<map name="your-name">
    <area shape="circle" coords="137,615,30" href="https://baike.baidu.com/item/%E7%AB%8B%E8%8A%B1%E6%B3%B7/19980644?fr=aladdin" target="_blank">
    <area shape="rect" coords="70,463,150,700" href="https://baike.baidu.com/item/%E7%AB%8B%E8%8A%B1%E6%B3%B7/19980644?fr=aladdin" target="_blank">
</map>
```

- 图像类似于行块盒，元素的宽度和高度默认自适应整个图片的宽高，并且只设置宽度则高度自动按比例变化
- `object-fit`属性:`contain`既要保持宽高比，又不准溢出；`fill`不保持宽高，图片填充整个元素;`cover`保持宽高但也要填充整个元素，部份会被牺牲不显示
- 图片的底部白边: 一般出现在图片的父元素是一个块盒，块盒高度自动，图片底部和父元素底边之间则会出现空白。
- 解决办法：1. 设置父元素的字体大小为0；2. 将图片设置为块盒
- 选择正确的图像格式 -JPEG / GIF / PNG
- svg(scalable vector graphics)可缩放的矢量图
  1. 该图片使用xml语言代码书写而成
  2. 缩放不会失真
  3. 内容轻量
- svg可以嵌入浏览器，img/背景图/embed/object/iframe，也可以单独成为一个文件
- 书写svg代码：矩形:rect、 圆形：circle、 椭圆：ellipse、 线条：line、 折线：polyline、 多边形：polygon、 路径：path
- 路径的关键词包括：M = moveto、L = lineto、 H = horizontal lineto、 V = vertical lineto、 C = curveto、 S = smooth curveto、 Q = quadratic Belzier curve、 T = smooth quadratic Belzier curveto 、Z = closepath、 A(弧线) = elliptical Arc
- A的给值顺序： 半径1； 半径2 ； 顺时针旋转角度； 小弧（0）或大弧（1）； 顺时针（1）逆时针（0）
- 例子: 画太极图
```xml
<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" style="background:#ccc">
    <path fill="#000" d="M250 50 A100 100 0 0 1 250 250 A100 100 0 0 0 250 450 A200 200 0 0 1 250 50"/>
    <path fill="#fff" d="M250 50 A100 100 0 0 1 250 250 A100 100 0 0 0 250 450 A200 200 0 0 0 250 50"/>
    <circle cx="250" cy="150" r="30" fill="#fff"/>
    <circle cx="250" cy="350" r="30" fill="#000"/>
</svg>
```

#### 多媒体(audio/video)

- 视频格式和播放器

- 视频托管服务

- 添加视频的准备工作

- `audio`标签和属性：autoplay / controls / loop / muted / preload / src / width / height / poster

- `video`元素与声音类似
  
    - `src`属性后加视频地址，一般用站内资源
    - 还有一堆布尔属性，只有两种状态：1.不写  2.取值为属性名，在HTML5中，可以不写属性值
    - `autoplay`实现自动播放
    - `controls`控制插件的显示
    - `loop`循环播放
    - `muted`静音播放
- 兼容性  
> 1. 旧版本的浏览器不支持这两个元素，此时可以加上`<p>对不起，你的浏览器。。。</p>`，或者嵌入flash
> 2. 不同浏览器支持的音视频格式可能不一致，一般视频格式为`mp4`或`webm`，声音格式为`mp3`，此时为了兼容不同的浏览器，一般在本地存放多种格式的音频，不再使用`src`属性，而是使用子元素`source`的`src`属性

```html
<body>
    <video controls autoplay muted loop style="width:500px;">
        <source src="./Premiere_Pro_CC.mp4">
        <source src="./Premiere_Pro_CC.webm">
        <p>
            对不起，你的浏览器不支持video元素，请点击此处下载最新版本
        </p>
    </video>
</body>
```

#### 窗口(frame)

- 框架集（过时，不建议使用） - frameset / frame

- 内嵌窗口/框架页 - iframe：可替换元素，通常用于在网页中嵌入另一个页面
  1. 通常行盒
  2. 通常显示的内容取决于元素的属性
  3. CSS不能完全控制其中的样式
  4. 具有行快盒的特点
```html
<iframe src="//player.bilibili.com/player.html?aid=57100756&bvid=BV1yx411d7Rc&cid=133865234&p=40" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
```

#### 容器(container)

- 该元素代表一个块区域，内部用于放置其他元素包括容器
- 最常用的是`div`元素，没有语义
- H5中新增了如下语义化容器元素
- `header`: 通常用于表示页头，也可以用于表示文章的头部
- `footer`: 通常用于表示页脚，也可以用于表示文章的尾部
- `article`: 通常用于表示整篇文章
- `section`: 通常用于表示文章的章节
- `aside`: 通常用于表示侧边栏，放一些不是很重要的信息
- 元素的选择上主要关注语义逻辑上的关系，选择正确的元素将网页的区域划分出来，不用太过关注样式，也不用太过纠结，可以一概使用`div`

#### 动画(flash)

- 在页面中使用flash，它们都是可替换元素
- object，data为资源地址，type为MIME(Multipurpose Internet Mail Extensions)多用途互联网邮件类型：比如，资源是一个jpg图片，MIME：image/jpeg
- embed，src为资源地址，type同上
```html
<object data="./example.swf" type="application/x-shockwave-flash">
    <!-- name参数名，value参数值 -->
    <param name="quality" value="high">
</object>

<embed quality="high" src="./example.swf" type="application/x-shockwave-flash">

    <!-- 一般采取兼容的写法 -->
<object data="./example.swf" type="application/x-shockwave-flash">
    <param name="quality" value="high">
    <embed quality="high" src="./example.swf" type="application/x-shockwave-flash">
</object>
```

#### 表单(form)

- 通常，会将整个表单元素，放置form元素的内部，作用是当提交表单时，会将form元素内部的表单内容以合适的方式提交到服务器。
- form元素对开发静态页面没有什么意义。
- 重要属性 
  + action / method / enctype
- 表单控件（input）输入框
  + type属性, min最小值, max最大值, step步长, name划分不同选择为一组, checked默认选中
    + 文本框 - text / 密码框 - password / 数字框 - number
    + 邮箱 - email / 电话 - tel / 日期 - date / 滑条 - range / URL - url / 搜索 - search
    + 单选按钮 - radio / 复选按钮 - checkbox 
    + 文件上传 - file / 隐藏域 - hidden
    + 提交按钮 - submit / 图像按钮 - image  / 重置按钮 - reset / 普通按钮 - button
  + value属性：输入框的值
  + placeholder属性：显示提示的文本，文本框没有内容时显示
- 下拉列表 - select / option / optgroup, selected默认选中 multiple多选
- 文本域（多行文本）- textarea
- 按钮 - button , type属性：reset、submit、button，默认值submit
- 控制表单状态的属性：
  + readonly属性：布尔属性，是否只读，不会改变表单显示样式
  + disabled属性：布尔属性，是否禁用，会改变表单显示样式
- 配合表单元素的其他元素：
  + label：普通元素，通常配合单选和多选框使用
    * 显示关联： 可以通过for属性，让label元素关联某一个表单元素，for属性书写表单元素id的值
    * 隐式关联：直接把input元素放在里面
  + datalist：数据列表，子元素为option， 该元素本身不会显示到页面，通常用于和普通文本框配合
  + fieldset：表单分组，子元素legend表示分组标题
- 一般会把表单元素样式全部设为空
```css
input, textarea, button, select {
    border: none;
}

input:focus,textarea:focus,button:focus,select:focus {
    outline: none;
    outline-offset: 0;
}
```
- 设置textarea是否允许调整尺寸：使用css属性resize：
  + both：默认值，两个方向都可以调整尺寸
  + none：不能调整尺寸
  + horizontal: 水平方向可以调整尺寸
  + vertical：垂直方向可以调整尺寸
- 文本框边缘到内容的距离
  + 方式1：padding
  + 方式2：text-indent
- 控制单选和多选的样式：大多数情况漂亮的单选框需要自己重新写一个

#### 表格(table)
- 在css技术出现之前，网页通常使用表格布局。
- 现在往往在后台管理系统中可能会使用表格。
- 前台：面向用户； 后台：面向管理员。对界面要求不高，对功能性要求高。往往用框架完成设计
- 表格不再适用于网页布局？表格的渲染速度过慢。
- 基本的表格结构 - table / 表格行tr / 普通单元格td / 标题单元格th
- 把相邻的边框合并 - border-collapse:collapse
- 表格的标题 - caption
- 跨行和跨列 - rowspan属性 / colspan属性
- 长表格 - thead / tbody / tfoot

#### 其他
- abbr - 缩写词
- time - 提供给浏览器或搜索引擎阅读的时间
- b（bold）- 以前是一个无语义元素，主要用于加粗字体
- q - 一小段引用文本
- blockquote - 大段引用的文本
- br - 无语义，主要用于在文本中换行
- hr - 无语义，主要用于分割
- meta - 还可以用于搜索引擎优化（SEO）
- link - 链接外部资源（CSS、图标）
  + rel属性：relation，链接的资源和当前网页的关系
  + type属性：链接的资源的MIME类型

#### 数据链接(data url)
- 如何书写: 数据链接：将目标文件的数据直接书写到路径位置；语法：data:MIME,数据
- 优点：1. 减少了浏览器中的请求，从而减少了请求中浪费的时间；2. 有利于动态生成数据
- 缺点：1. 增加了资源的体积，导致了传输内容增加，从而增加了单个资源的传输时间；2. 不利于浏览器的缓存，浏览器通常会缓存图片文件、css文件、js文件。3. 会增加原资源的体积到原来的4/3
- 应用场景：1. 但请求单个图片体积较小，并且该图片因为各种原因，不适合制作雪碧图，可以使用数据链接。2. 图片由其他代码动态生成，并且图片较小，可以使用数据链接。
- base64是一种编码方式，通常用于将一些二进制数据，用一个可书写的字符串表示。

### 使用CSS渲染页面

#### 简介

- CSS(Cascading Style Sheets 层叠样式表)的作用：描述页面展示(字体大小颜色/布局/边框)，CSS决定页面长什么样子

- CSS的工作原理

- CSS代码书写位置
> 1. 内部样式表：书写在`style`元素中，一般放在`<head>`里而不放在`<body>`里，方便浏览器优先读取
> 2. 内联样式表，元素样式表：直接书写在元素的`style`属性中，此时不需要写选择器
> 3. 外部样式表[推荐]：将样式书写到独立的CSS文件中，一般放在CSS文件夹里面，此时一般在`<head>`里加上`link`元素，比如`<link rel="stylesheet" href="css/index.css">`其中的`href`属性依然可以加绝对/相对路径
> > 1). 外部样式可以解决多页面样式重复的问题
> > 2). 有利于浏览器缓存，从而提高页面响应速度
> > 3). 有利于代码分离（HTML和CSS），更容易阅读和维护

- CSS规则=选择器(selector)+声明块(declaration)

  ![](./res/选择器语法.png)

- 声明块：在大括号中的部分，块中包含很多声明（属性/样式），每一个声明（属性/样式）表达了某一方面的样式。

- 每一个元素都必须有声明才能显示，即便不写，UA（浏览器）也会自动添加

```css
h1{
    color:red;
    background-color:lightblue;
    text-align: center;
}
```

- 简单选择器：用于精准的选中想要的元素
  1. ID选择器(太窄)：选中的是对应id值的元素，前加`#`符号
  2. 元素选择器(太宽泛)
  3. 类选择器[推荐]：运用`class`属性且空格隔开多个类，前加`.`符号
  4. 通配符选择器: 用`*`选中所有元素
  5. 属性选择器:根据属性名和属性值选中元素，用中括号内有多种用法，参考官方文档：[Attribute_selectors](https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Selectors/Attribute_selectors)
  6. 伪类选择器:选中某些元素的某种状态
    1) link: 超链接未访问时的状态
    2) visited: 超链接访问过后的状态
    3) hover: 鼠标悬停状态，`a:hover`选中鼠标悬停时的a元素
    4) active：激活状态，鼠标按下状态
    四个同时书写时需要遵守一定的顺序：爱恨法则(love hate)
    5) first-child： 选择第一个子元素，first-of-type，选中子元素中第一个指定类型的元素
    6) last-child： 选择最后一个子元素，last-of-type同上
    7) nth-child： 选中指定的第几个子元素，6n表示所以6的倍数位置的子元素，even：关键字，等同于2n，odd: 关键字，等同于2n+1
      a:nth-child(odd)-必须是a元素，必须是第偶数个子元素,nth-of-type：选中指定的子元素中第几个某类型的元素
    8) focus: 按下tab键，元素聚焦时的样式，tabindex可以设置聚焦顺序
    9) checked: 表单元素单选或多选框被选中的样式
  7. 伪元素选择器
    1) before: `span::before`在`span`元素下创建一个子元素占第一个位置，然后可以在特殊属性`<content>`中添加内容，以及改变各种格式
    2) after: 在选中的元素下创建一个子元素占最后一个位置
    3) first-letter：选中元素中的第一个字母
    4) first-line： 选中元素中第一行的文字
    5) selection：选中被用户框选的文字

  ![](./res/常用选择器.png)

- 选择器的组合
  1. 并且：两个选择器连着写，不加空格
  2. 后代元素：两个选择器用空格隔开，选中前面元素下的所有后代元素
  3. 子元素：两个选择器用`>`隔开，选中前面元素下的所有子元素
  4. 相邻兄弟元素：两个选择器用`+`隔开 选中前面元素的下一个兄弟元素
  5. 后面出现的所有兄弟元素：两个选择器用`~`隔开 ，选中前面元素的后面所有的兄弟元素

- 选择器的并列：多个选择器, 用逗号分隔，称之为语法糖

- 鼠标样式：cursor，pointer设为手形状，也可用cursor:url(),auto，引用图片，不成功则UA自动设置样式
- 盒子隐藏:
  1. display:none，不生成盒子
  2. visibility:hidden，生成盒子，只是从视觉上移除盒子，盒子仍然占据空间。常用来做闪烁效果
- 图像
  + 控制图像的大小（display: inline-block）
  + 对齐图像
  + 背景图和img元素的区别：img元素是属于HTML的概念；背景图属于css的概念
    1. 当图片属于网页内容时，必须使用img元素
    2. 当图片仅用于美化页面时，必须使用背景图
  + 背景图涉及的css属性
    1. background-image：url里面写相对或绝对路径
    2. background-repeat：默认情况下，背景图会在横坐标和纵坐标中进行重复直到把整个页面铺满，很多时候会预设很小的图片故意去重复，no-repeat不重复，repeat-x横轴上重复
    3. background-position：设置背景图的位置。 预设值：left、bottom、right、top、center，也可设为数值或百分比，数值可理解为坐标，常用来做`雪碧图`/`精灵图`（spirit）
    4. background-size：预设值：contain、cover，类似于object-fit，也可设为数值或百分比
    5. background-attachment: 通常用它控制背景图是否固定。fixed位置相对于视口
    6. 背景图和背景颜色可以混用
    7. 速写（简写）background：url(imgs/main_bg.jpg) no-repeat center/100% fixed #000，位置和尺寸都用百分比时用/隔开
- 画布(canvas)是一块区域
  特点：
  1. 最小宽度为视口宽度
  2. 最小高度为视口高度
- HTML元素的背景： 覆盖画布
- BODY元素的背景(颜色/图)
  - 如果HTML元素有背景，BODY元素正常（背景覆盖边框盒）
  - 如果HTML元素没有背景，BODY元素的背景覆盖画布
- 关于画布(body/html)背景图
  1. 背景图的宽度百分比，相对于视口
  2. 背景图的高度百分比，相对于网页高度
  3. 背景图的横向位置百分比、预设值，相对于视口
  4. 背景图的纵向位置百分比、预设值，相对于网页高度

#### 颜色(color)

- 如何指定颜色
  - 使用**预设值**：定义好的单词，一般用于测试
  - 使用**三原色，色值**：即光学三原色（红、绿、蓝），每个颜色可以使用0-255之间的数字来表达，三种数字组合起来就是色值。
  > 1. rgb表示法：`rgb(0, 255, 0)`
  > 2. hex（16进制）表示法：#红绿蓝，比如马尔斯绿：`#008c8c`，淘宝红：`#ff4400`或简写为`#f40`，黑色：`#000000`或`#000`，白色：`#ffffff`或`#fff`，红：`#ff0000`或`#f00`，绿：`#00ff00`或`#0f0`，蓝：`#0000ff`或`#00f`，紫：`#f0f`，青：`#0ff`，黄：`#ff0`，灰色：`#ccc`
- 元素背景色（background-color）：不能被继承
- 每个颜色都具有透明通道,取值范围为 0 ~ 1
  1. rgba(红, 绿, 蓝, alpha)
  2. hex： #红绿蓝alpha
- 此外还有opacity，它设置的是整个元素的透明度，它的取值是0 ~ 1

#### 文本(text / font)

- 宽度(width)：调整元素整体的宽度

- 高度(height)：调整元素整体的高度

- 文字是通过一些文字制作软件制作的，比如fontforge 。制作文字时，会有五根**参考线**，从上往下依次为：顶线-text top/ascent，上基线-super，基线-baseline，下基线-sub，底线-text bottom/descent，不同的文字类型，参考线不一样。
- 决定参考线的3个属性：font-size、font-family、line-height
- 一个元素如果子元素出现行盒，该元素内部也会产生参考线，文字会自动生成匿名行盒

- 字体的大小(font-size)：元素内部文字的尺寸大小，可以用两种单位：
  - `px`：像素，绝对单位，简单的理解为文字的高度占多少个像素
  - `em`：相对单位，相对于父元素的字体大小的倍数，可以在`element`模块里面的`computed`选项卡查看计算后的值
  - 每个元素必须有字体大小，如果没有声明，则直接使用父元素的字体大小，如果没有父元素（html），则使用基准字号`16px`,浏览器可以更改。

  ![](./res/尺寸单位.png)

  - 需注意font-size设置的是文字的相对大小，文字的相对大小：1000、2048、1024
  - 文字的实际大小（content-area，内容区），是文字顶线到底线的距离，需要用距离除以相对大小再乘以设置值
  - 行盒的背景，覆盖content-area

- 文本的字型(font-family)：文字类型，必须用户计算机中存在的字体才会有效。因此一般使用多个字体，以匹配不同环境，最后可以加上最通用的非衬线字体：`sans-serif`

- ![](./res/尺寸单位.png)

  ![](./res/衬线字体+非衬线字体+等宽字体.png)

- 文本粗细(font-weight)：文字粗细程度，可以取值数字，预设值为`normal`，加粗字体设为`bold`，默认加粗的元素：`strong`元素。

- 文本样式(font-style)：通常用于设置斜体，预设值为`normal`，斜体字体设为`italic`，默认斜体的元素：`em`元素，`i`元素(通常用于表示一个图标[icon])

- 文本拉伸(font-stretch)

- 常用的简写：`font:1px italic bold`

- 文本装饰(text-decoration)：文本修饰，给文本加减线，预设为`none`没有线，可以用于去掉`a`元素的下划线`underline`，`del`元素(表示错误的内容)的中划线，`s`元素(表示过期的内容)的中划线

  ![](./res/字体样式.png)

- 行间距/行高(line-height)：每行文本的高度，该值越大，每行文本的距离越大，一般有四种用法：
  - 设置行高为容器的高度，单位为`px`像素值，可以让单行文本垂直居中
  - 单位为`em`表示相对于当前元素字体大小，步骤为先计算像素值再继承
  - 百分比相对于当前元素字体大小，步骤为先计算像素值再继承
  - 多行文字一般设置为纯数字，根据当前元素的字体大小来计算，步骤为先继承父元素的倍数再计算像素值
  - 顶线向上延申的空间，和底线向下延申的空间，两个空间相等，该空间叫做line gap（空隙）gap默认情况下，是字体设计者决定
  - 距离顶线gap往上即top，底下往下即bottom，top到bottom之间的距离叫做virtual-area（虚拟区）
  - 行高，就是virtual-area
  - line-height:normal，最好默认值，使用文字默认的gap
  - 文字一定出现一行的最中间(错误)
  - content-area一定出现在virtual-area的中间

- 水平对齐(text-align)：元素内部文字的水平排列方式
  + 有这几个取值：left: 左对齐； right：右对齐； center：居中； justify：除最后一行外，分散对齐
- 垂直对齐(vertical-align)有以下几种取值：
  + baseline：该元素的基线与父元素的基线对齐
  + super: 该元素的基线与父元素的上基线对齐
  + sub：该元素的基线与父元素的下基线对齐
  + text-top: 该元素的virtual-area的顶边，对齐父元素的text-top
  + text-bottom: 该元素的virtual-area的底边，对齐父元素的text-bottom
  + top：该元素的virtual-area的定边，对齐line-box的顶边
  + bottom：该元素的virtual-area的底边，对齐line-box的底边
  + middle: 该元素的中线（content-area的一半），与父元素的X字母高度一半的位置对齐
  + 数值：相对于基线的偏移量，向上为正数，向下为负数。
  + 百分比：相对于基线的偏移量，百分比是相对于自身virtual-area的高度
- 行盒组合起来，可以形成多行，每一行的区域叫做line-box，line-box的顶边是该行内所有行盒最高顶边，底边是该行行盒的最低底边。
- 实际，一个元素的实际占用高度（高度自动），高度的计算通过line-box计算。
- 行盒：inline-box 行框：line-box
- line-box是承载文字内容的必要条件，以下情况不生成行框：
  1. 某元素内部没有任何行盒
  2. 某元素字体大小为0

- 首行文本缩进(text-ident)：单位可以是`px`表示缩进的像素数，或`em`表示汉字/字母个数

- 文字间隙(letter-space)，表示文字的间歇距离，单位可以是`px`或`em`

- 字母间距(letter-spacing)和单词间距(word-spacing)

- 文字开始到结束的方向(direction)和文字书写方向(writing-mode)
- 开始 start -> 结束 end , 左 left -> 右 end
- 开始和结束是相对的，不同国家有不同的习惯
- 左右是绝对的

- 链接样式（:link / :visited / :active / :hover）

- 可替换元素的基线
  + 图片：基线位置位于图片的下外边距。
  + 表单元素：基线位置在内容底边
- 行块盒的基线：
  1. 行块盒最后一行有line-box，用最后一行的基线作为整个行块盒的基线。
  2. 如果行块盒内部最后一行没有行盒，则使用下外边距作为基线

- CSS3新属性
  - 阴影效果 - text-shadow
  - 响应用户

#### 层叠(cascading)

* 声明冲突：同一个样式，多次应用到同一个元素，有的时候写代码会无法避免地遇到。
* 层叠就是解决声明冲突的过程，这是浏览器自动处理（权重计算）
  - 比较重要性，重要性从高到底依次是：
    1. 作者样式表中的`!important`样式(不建议使用)
    2. 作者样式表中的普通样式
    3. 浏览器默认样式表中的样式
  - 比较特殊性，总体规则：选择器选中的范围越窄越特殊；具体方法是通过选择器计算出一个4位的数字，每一位逢256进1，所以一般直接比较数字大小而不考虑进位，步骤如下：
    1. 千位：如果是内联样式，记1，否则记0
    2. 百位：等于选择器中所有id选择器的数量
    3. 十位：等于选择器中所有类选择器、属性选择器、伪类选择器的数量
    4. 个位：等于选择器中所有元素选择器、伪元素选择器的数量
  - 比较源次序:代码书写靠后的胜出
* 应用1:重置样式表，书写一些作者样式，覆盖浏览器的默认样式，然后再书写重置样式表进行覆盖更新(**一般不会直接修改代码**)，常见的重置样式表：normalize.css,reset.css,meyer.css
* 应用2:爱恨法则，在特殊性一样时，通过控制源次序来符合正常逻辑

- 继承：子元素会继承父元素的某些CSS属性，通常跟文字内容相关的属性都能被继承，属性具体能否被继承可以在mdn查询
- 浏览器渲染页面：浏览器按照前序遍历页面文档的树形目录结构，每个元素依次渲染
- 渲染每个元素的前提条件：该元素的所有CSS属性必须有值，并不只是开发时写的属性
- 页面想要正常显示，每个元素都必须计算出值

#### 属性值计算过程

- 一个元素，从**所有属性都没有值**，到**所有的属性都有值**的计算过程
  1. 确定声明值：参考所有的样式表(包括作者样式表、浏览器默认样式表等)中**没有冲突**的声明，作为CSS属性值
  2. 层叠冲突：对样式表有冲突的声明使用层叠规则，确定CSS属性值
  3. 使用继承：对仍然没有值的属性，若可以继承，则继承父元素的值
  4. 使用默认值：对仍然没有值的属性，使用默认值(initial value)
- a元素为何不继承？因为第一步就通过浏览器默认样式表确定了属性值
- 怎样把a元素的浏览器默认样式表覆盖掉？使用inherit强制继承
- 特殊的两个CSS取值：
- inherit：手动(强制)继承，将父元素的值取出应用到该元素，即第三步提前了
- initial：初始值，将该属性设置为默认值

#### 盒子模型(box model)

- 每个元素在页面中都会生成一个矩形区域（盒子）
- 盒子类型：
  1. 行盒，display属性等于inline的元素，行盒在页面中不换行
  2. 块盒，display属性等于block的元素，块盒独占一行
- 一般display默认值为inline
- 浏览器默认样式表设置的常见块盒：容器元素、h1~h6、p ； 
- 所有的盒子的组成部分(由内到外)：
  ![](./res/盒子模型.png)
  1. 内容（content）一般是蓝色部分
    - 通过width和height控制盒子内容的宽高
    - 内容部分通常叫做整个盒子的**内容盒 content-box**
  2. 填充/内边距（padding）是绿色部分
    - 盒子边框到盒子内容的距离，默认值为0
    - 可以依次设置四个方向的页边距：padding-top、padding-right、padding-bottom、padding-left
    - 嫌麻烦可以用简写(速写)属性，顺时针写一圈：`padding:上 右 下 左`
    - 填充区+内容区 = **填充盒 padding-box**
  3. 边框（border）
    - 边框 = 边框样式 + 边框宽度 + 边框颜色
    - 边框样式：border-style，默认为none，常见solid表示实线边框，必须设置具体的值整个边框才能显示
    - 边框宽度：border-width，默认为0
    - 边框颜色：border-color，默认为字体颜色
    - 以上三个都是速写属性，有小箭头指向属性值，同样可以顺时针简写
    - 另外还可以使用border速写属性，依次同时设置样式宽度颜色
    - 边框图像（border-image）
    - 投影（border-shadow）
    - 圆角（border-radius）像素值越大角度越大，整个边框越接近圆，或可直接设为50%
    - 边框+填充区+内容区 = **边框盒 border-box**
  4. 外边距（margin）
    - 边框到其他盒子的距离
    - 同样有四个方向的外边距：margin-top、margin-right、margin-bottom、margin-left
    - 同样可以直接写速写属性margin，顺序为上下+左右，或上右下左
- 改变宽高范围：默认情况下，width 和 height 设置的是内容盒宽高。
  - 页面重构师：将psd文件（设计稿）制作为静态页面
  - 衡量设计稿尺寸的时候，往往使用的是边框盒，但设置width和height，则设置的是内容盒
    1. 精确计算
    2. CSS3：box-sizing改变宽高的影响范围
- 改变背景覆盖范围
  - 默认情况下，背景background覆盖边框盒
  - 可以通过background-clip进行修改
- 溢出处理
  - overflow，控制内容溢出边框盒后的处理方式，可以hidden隐藏，也可分为overflow-x\overflow-y
  - text-overflow, 文本溢出处理方式，ellipsis省略号
- 断词规则
  - word-break，会影响文字在什么位置被截断换行。 normal：普通，CJK字符中日韩（文字位置截断），非CJK字符（单词位置截断）；break-all：截断所有，所有字符都在文字处截断 ； keep-all：保持所有，所有文字都在单词之间截断
- 空白处理
  - white-space: normal 空白折叠；nowrap 空白折叠但空格处不换行；pre不进行空白折叠，所有空格均保留
- 常见行盒，即包含具体内容的元素：span、a、strong、em、i、img、video、audio
- 行盒的几个显著特点
  1. 盒子沿着内容沿伸
  2. 行盒不能设置宽高: 调整行盒的宽高，应该使用字体大小、行高、字体类型来间接调整。
  3. 内边距（填充区）: 水平方向有效，垂直方向只会影响背景，不会实际占据空间。
  4. 边框: 水平方向有效，垂直方向不会实际占据空间。
  5. 外边距: 水平方向有效，垂直方向不会实际占据空间。
- 多个行盒垂直方向上的对齐设置vertical-align
- **行块盒**，display：inline-block 的盒子
  1. 不独占一行
  2. 盒模型中所有尺寸都有效
  3. 经常拿来做分页
- 空白折叠，发生在行盒（行块盒）内部 或 行盒（行块盒）之间
- 可替换元素 和 非可替换元素
  - 大部分元素，页面上显示的结果，取决于元素内容，称为**非可替换元素**，包括img、video、audio，绝大部分可替换元素均为行盒。可替换元素类似于行块盒，盒模型中所有尺寸都有效。
  - 少部分元素，页面上显示的结果，取决于元素属性，称为**可替换元素**
- `display:list-item` 设置为该属性值的盒子，本质上仍然是一个块盒，但同时该盒子会附带另一个盒子，元素本身生成的盒子叫做主盒子，附带的盒子称为次盒子，次盒子和主盒子水平排列
- 涉及的css：
  1. ```list-style-type```设置次盒子中内容的类型
  2. ```list-style-position```设置次盒子相对于主盒子的位置
  3. 速写属性```list-style```,可设为none清空次盒子
- 行盒中包含行块盒或可替换元素时， 行盒的高度与它内部的行块盒或可替换元素的高度无关

#### 视觉格式化模型(visual formatting model)

- 也叫布局规则(positioning schemes)，页面中的多个盒子排列规则，控制元素的位置，大体上将页面中盒子的排列分为三种方式：

- 常规流(normal flow)也叫文档流、普通文档流、常规文档流
- 所有元素，默认情况下，都属于常规流布局，总体规则：块盒独占一行，行盒水平依次排列
- 包含块（containing block）：每个盒子都有它的包含块，包含块决定了盒子的排列区域。绝大部分情况下：盒子的包含块，为其父元素的内容盒
- **块盒**有以下几个规则：
  1. 每个块盒水平方向的总宽度，必须刚好等于包含块的宽度
    width的默认值是auto， margin的默认值是0，取值也可以是auto，
    auto：将剩余空间吸收掉
    width吸收能力强于margin
    若宽度、边框、内边距、外边距计算后，仍然有剩余空间，该剩余空间被margin-right全部吸收
    在常规流中，块盒要在其包含块中居中，可以定宽、然后左右margin设置为auto。
  2. 每个块盒垂直方向上的auto值
    height:auto，适应内容的高度
    margin:auto，表示0
  3. 百分比取值
    padding、width、margin，这些百分比都是相对于包含块的width。
    高度的百分比：
    1）. 包含块的高度取决于子元素的高度，（父元素未设置高且子元素高被设为百分比），此时设置百分比无效
    2）. 包含块的高度不取决于子元素的高度，子元素设置百分比是相对于父元素高度
  4. 上下外边距的合并
    两个常规流块盒，上下外边距相邻会进行合并，合并时取最大值。

- 浮动(float)
- 应用场景包括：1. 文字环绕 2. 横向排列
- 修改float属性值为：
  + left：左浮动，元素靠上靠左
  + right：右浮动，元素靠上靠右
  + 默认值为none，即常规流
- 当一个元素浮动后，元素必定为块盒(强制更改display属性为block)
- 浮动元素的包含块，和常规流一样，为父元素的内容盒
- 盒子尺寸：
  1. width为auto时，适应内容宽度，内容为空则为0
  2. height为auto时，与常规流一致，适应内容的高度
  3. margin为auto，不能吸收剩余空间，默认为0.
  4. 边框、内边距、百分比设置与常规流一样
- 盒子排列
  1. 左浮动的盒子靠上靠左排列
  2. 右浮动的盒子考上靠右排列
  3. 浮动盒子在包含块中排列时，会避开常规流块盒
  4. 常规流块盒在排列时，无视浮动盒子
  5. 行盒在排列时，会避开浮动盒子
  - 如果文字没有在行盒中，浏览器会自动生成一个行盒包裹文字，该行盒叫做匿名行盒。要修改图片和文字之间的距离，就修改图片的margin而不是文字的
  6. 不会发生外边距合并
  7. 浮动盒子的顶边不得高于上一个盒子的顶边
  8. 若剩余空间无法放下浮动的盒子，则该盒子向下移动，直到具备足够的空间能容纳盒子，然后再向左或向右移动
- 高度坍塌的根源：常规流盒子的自动高度是适应内容，在计算时，不会考虑浮动盒子
- 解决这个问题的方法是清除浮动，涉及修改css属性：clear
  1. 默认值：none
  2. left：清除左浮动，该元素必须出现在前面所有左浮动盒子的下方
  3. right：清除右浮动，该元素必须出现在前面所有右浮动盒子的下方
  4. both：清除左右浮动，该元素必须出现在前面所有浮动盒子的下方
- 可以在浮动盒子后添加一个空元素，设为clearfix类，加个属性clear:both
- 也可给容器加一个伪元素after：content:"";display:block;clear:both，此法只能将容器撑开，浮动盒子后面的盒子依然会被遮住

- 定位(absolute positioning)
- 手动控制元素在包含块中的精准位置，涉及的CSS属性：position，有4种取值
  + 默认值为static，静态定位（不定位）
  + relative：相对定位：不会导致元素脱离文档流，只是让元素在原来位置上进行偏移。
    1. 可以通过四个CSS属性对设置其位置： left \ right \ top \ bottom ，出现矛盾时以左边和上边为准
    2. 盒子的偏移不会对其他盒子造成任何影响。
  + absolute：绝对定位
    1. 宽高为auto，适应内容
    2. 包含块不同：找祖先中第一个定位元素，该元素的填充盒为其包含块。若找不到，则它的包含块为整个网页（初始化包含块）
  + fixed：固定定位
    1. 包含块不同：固定为视口（浏览器的可视窗口）
    2. 其他情况和绝对定位完全一样。
- 一个元素，只要position的取值不是static，认为该元素是一个定位元素。
- 定位元素会脱离文档流（相对定位除外）
- 一个脱离了文档流的元素：
1. 文档流中的元素摆放时，会忽略脱离了文档流的元素
2. 文档流中元素计算自动高度时，会忽略脱离了文档流的元素
- 绝对定位、固定定位元素一定是块盒、一定不是浮动
- 没有外边距合并

- 定位下的居中，绝对定位和固定定位如何在包含块里设置居中，
  1. 定宽（高）
  2. 将左右（上下）距离设置为0
  3. 将左右（上下）margin设置为auto
- 绝对定位和固定定位中，margin为auto时，会自动吸收剩余空间

- 多个定位元素重叠时，比如奥运五环，需设置z-index，通常情况下，该值越大，越靠近用户
- 只有定位元素设置z-index才有效
- z-index可以是负数，如果是负数，则遇到常规流、浮动元素，会被其覆盖
- 堆叠上下文（stack context），它是一块区域，这块区域由某个元素创建，它规定了该区域中的内容在Z轴上排列的先后顺序。
  + 创建堆叠上下文的元素
    1. html元素（根元素）
    2. 设置了z-index（非auto）数值的定位元素
  + 同一个堆叠上下文中元素在Z轴上的排列，从后到前的排列顺序：
    1. 创建堆叠上下文的元素的背景和边框
    2. 堆叠级别(z-index, stack level)为负值的堆叠上下文
    3. 常规流非定位的块盒
    4. 非定位的浮动盒子
    5. 常规流非定位行盒
    6. 任何 z-index 是 auto 的定位子元素，以及 z-index 是 0 的堆叠上下文
    7. 堆叠级别为正值的堆叠上下文
  + 以上规则重叠时，按照代码书写顺序后写的覆盖前面的
  + 每个堆叠上下文，独立于其他堆叠上下文，它们之间不能相互穿插。

- 块级格式化上下文(Block Formatting Context - BFC)
- 它是一块独立的渲染区域，它规定了在该区域中，常规流块盒的布局
  + BFC渲染区域：
    * 这个区域由某个HTML元素创建，以下元素会在其内部创建BFC区域：
    * 根元素:意味着，`<html>`元素创建的BFC区域，覆盖了网页中所有的元素
    * 浮动元素、绝对定位元素、overflow不等于visible的块盒
  + 独立的：
    * 不同的BFC区域，它们进行渲染时互不干扰
    * 创建BFC的元素，隔绝了它内部和外部的联系，内部的渲染不会影响到外部
    * 具体规则有三：自动高度需要计算浮动元素；边框盒不会与浮动元素重叠；不会和其子元素进行外边距合并

- 网站布局
  - HTML5布局
    ![](./res/经典布局-2.png)

- 适配屏幕尺寸
  - 固定宽度布局
  - 流体布局
  - 布局网格

- 多栏布局
  + 两栏布局：侧边栏左(右)浮动定宽，主区域BFC不定宽
  + 三栏布局
- 等高布局
  1. CSS3的弹性盒
  2. JS控制
  3. 伪等高：侧边栏height很高，margin-bottom为负的抵消，同时外层容器hidden，注意主区域内容不够时也出问题
- 元素书写顺序：一般先写浮动元素，为方便SEO会把主区域靠前书写，主区域设置左右margin，侧边栏绝对定位依靠外层容器设置位置，缺陷是外层容器无法适应侧边栏高度
- 后台页面的布局：标题绝对定位，下方容器设置上padding

#### 列表、表格和表单

- 列表的项目符号（list-style）
- 表格的边框和背景（border-collapse）
- 表单控件的外观
- 表单控件的对齐
- 浏览器的开发者工具

#### @规则

- at-rule: @规则、@语句、CSS语句、CSS指令
- import：`@import "路径";`导入另外一个css文件
- charset：`@charset "utf-8";`告诉浏览器该CSS文件，使用的字符编码集是utf-8，必须写到第一行

#### web字体和图标

- web字体
 - 用户电脑上没有安装相应字体，强制让用户下载该字体
 - 使用@font-face指令制作一个新字体
- 字体图标：iconfont.cn

#### 其他
- tabindex：Tab键切换顺序
  - contenteditable：元素是否可编辑
  - draggable：元素是否可拖拽

#### 居中总结
居中：盒子在其包含块中居中
- 行盒（行块盒）水平居中： 直接设置行盒（行块盒）父元素```text-align:center```
- 常规流块盒水平居中： 定宽，设置左右margin为auto
- 绝对定位元素的水平居中： 定宽，设置左右的坐标为0（left:0, right:0），将左右margin设置为auto。实际上，固定定位（fixed）是绝对定位（absolute）的特殊情况
- 单行文本的垂直居中： 设置文本所在元素的行高，为整个区域的高度
- 行块盒或块盒内多行文本的垂直居中： 没有完美方案，但可设置盒子上下内边距相同，达到类似的效果。
- 绝对定位的垂直居中： 定高，设置上下的坐标为0（top:0, bottom:0），将上下margin设置为auto

#### 浏览器兼容性
- 问题产生原因： 市场竞争、 标准版本的变化
- 厂商前缀，比如：box-sizing， 谷歌旧版本浏览器中使用-webkit-box-sizing:border-box
  + 产生原因： 市场竞争，标准没有发布； 标准仍在讨论中（草案），浏览器厂商希望先支持
  + IE： -ms-
  + Chrome，safari:  -webkit-
  + opera： -o-
  + firefox: -moz-
- 浏览器在处理样式或元素时，使用如下的方式：当遇到无法识别的代码时，直接略过。
- 谷歌浏览器的滚动条样式，用特有的伪元素webkit。实际上，在开发中使用自定义的滚动条，往往是使用div+css+JS实现的
- 多个背景图中选一个作为背景
- css hack：根据不同的浏览器（主要针对IE），设置不同的样式和元素
  1. 样式：IE中，CSS的特殊符号
    * `*属性`，兼容IE5、IE6、IE7
    * `_属性`，兼容IE5~IE6
    * `属性值\9`，兼容IE5~IE11
    * `属性值\0`，兼容IE8~IE11
    * `属性值\9\0`，兼容IE9~IE10
  + IE5、6、7的外边距bug，浮动元素的左外边距翻倍
  2. 条件判断
- 渐近增强 和 优雅降级 是 两种解决兼容性问题的思路，会影响代码的书写风格
- 渐近增强：先适应大部分浏览器，然后针对新版本浏览器加入新的样式。 书写代码时，先尽量避免书写有兼容性问题的代码，完成之后，再逐步加入新标准中的代码。
- 优雅降级：先制作完整的功能，然后针对低版本浏览器进行特殊处理。 书写代码时，先不用特别在意兼容性，完成整个功能之后，再针对低版本浏览器处理样式。
- [caniuse.com](https://caniuse.com/)用于查找css兼容性

#### 制作一个三角形
```css
div{
    width: 0;
    height: 0;
    border: 10px solid transparent;
    border-left-color: red;
}
```

### 使用JavaScript控制行为

#### JavaScript基本语法

- 语句和注释
- 变量和数据类型
  - 声明和赋值
  - 简单数据类型和复杂数据类型
  - 变量的命名规则
- 表达式和运算符
  - 赋值运算符
  - 算术运算符
  - 比较运算符
  - 逻辑运算符
- 分支结构
  - `if...else...`
  - `switch...cas...default...`
- 循环结构
  - `for`循环
  - `while`循环
  - `do...while`循环
- 数组
  - 创建数组
  - 操作数组中的元素
- 函数
  - 声明函数
  - 调用函数
  - 参数和返回值
  - 匿名函数
  - 立即调用函数

#### 面向对象

 - 对象的概念
 - 创建对象的字面量语法
 - 访问成员运算符
 - 创建对象的构造函数语法
    - `this`关键字
 - 添加和删除属性
    - `delete`关键字
 - 标准对象
    - `Number` / `String` / `Boolean` / `Symbol` / `Array` / `Function` 
    - `Date` / `Error` / `Math` / `RegExp` / `Object` / `Map` / `Set`
    - `JSON` / `Promise` / `Generator` / `Reflect` / `Proxy`

#### BOM

 - `window`对象的属性和方法
 - `history`对象
    - `forward()` / `back()` / `go()`
 - `location`对象
 - `navigator`对象
 - `screen`对象

#### DOM

 - DOM树
 - 访问元素
    - `getElementById()` / `querySelector()`
    - `getElementsByClassName()` / `getElementsByTagName()` / `querySelectorAll()`
    - `parentNode` / `previousSibling` / `nextSibling` / `children` / `firstChild` / `lastChild`
- 操作元素
  - `nodeValue`
  - `innerHTML` / `textContent` / `createElement()` / `createTextNode()` / `appendChild()` / `insertBefore()` / `removeChild()`
  - `className` / `id` / `hasAttribute()` / `getAttribute()` / `setAttribute()` / `removeAttribute()`
- 事件处理
  - 事件类型
    - UI事件：`load` / `unload` / `error` / `resize` / `scroll`
    - 键盘事件：`keydown` / `keyup` / `keypress`
    - 鼠标事件：`click` / `dbclick` / `mousedown` / `mouseup` / `mousemove` / `mouseover` / `mouseout`
    - 焦点事件：`focus` / `blur`
    - 表单事件：`input` / `change` / `submit` / `reset` / `cut` / `copy` / `paste` / `select`
  - 事件绑定
    - HTML事件处理程序（不推荐使用，因为要做到标签与代码分离）
    - 传统的DOM事件处理程序（只能附加一个回调函数）
    - 事件监听器（旧的浏览器中不被支持）
  - 事件流：事件捕获 / 事件冒泡
  - 事件对象（低版本IE中的window.event）
    - `target`（有些浏览器使用srcElement）
    - `type`
    - `cancelable`
    - `preventDefault()`
    - `stopPropagation()`（低版本IE中的cancelBubble）
  - 鼠标事件 - 事件发生的位置
    - 屏幕位置：`screenX`和`screenY`
    - 页面位置：`pageX`和`pageY`
    - 客户端位置：`clientX`和`clientY`
  - 键盘事件 - 哪个键被按下了
    - `keyCode`属性（有些浏览器使用`which`）
    - `String.fromCharCode(event.keyCode)`
  - HTML5事件
    - `DOMContentLoaded`
    - `hashchange`
    - `beforeunload`

#### JavaScript API

- 客户端存储 - `localStorage`和`sessionStorage`

  ```JavaScript
  localStorage.colorSetting = '#a4509b';
  localStorage['colorSetting'] = '#a4509b';
  localStorage.setItem('colorSetting', '#a4509b');
  ```

- 获取位置信息 - `geolocation`

  ```JavaScript
  navigator.geolocation.getCurrentPosition(function(pos) { 		  
      console.log(pos.coords.latitude)
      console.log(pos.coords.longitude)
  })
  ```

- 从服务器获取数据 - Fetch API
- 绘制图形 - `<canvas>`的API
- 音视频 - `<audio>`和`<video>`的API

### 使用jQuery

#### jQuery概述

1. Write Less Do More（用更少的代码来完成更多的工作）
2. 使用CSS选择器来查找元素（更简单更方便）
3. 使用jQuery方法来操作元素（解决浏览器兼容性问题、应用于所有元素并施加多个方法）

#### 引入jQuery

- 下载jQuery的开发版和压缩版
- 从CDN加载jQuery

```HTML
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script>
    window.jQuery || 
        document.write('<script src="js/jquery-3.3.1.min.js"></script>')
</script>
```

#### 查找元素

- 选择器
  - \* / element / #id / .class / selector1, selector2
  - ancestor descendant / parent>child / previous+next / previous~siblings 
- 筛选器
  - 基本筛选器：:not(selector) / :first / :last / :even / :odd / :eq(index) / :gt(index) / :lt(index) / :animated / :focus
  - 内容筛选器：:contains('…') / :empty / :parent / :has(selector)
  - 可见性筛选器：:hidden / :visible
  - 子节点筛选器：:nth-child(expr) / :first-child / :last-child / :only-child
  - 属性筛选器：[attribute] / [attribute='value'] / [attribute!='value'] / [attribute^='value'] / [attribute$='value'] / [attribute|='value'] / [attribute~='value']
- 表单：:input / :text / :password / :radio / :checkbox / :submit / :image / :reset / :button / :file / :selected / :enabled / :disabled / :checked

#### 执行操作

- 内容操作
  - 获取/修改内容：`html()` / `text()` / `replaceWith()` / `remove()`
  - 获取/设置元素：`before()` / `after()` / `prepend()` / `append()` / `remove()` / `clone()` / `unwrap()` / `detach()` / `empty()` / `add()`
  - 获取/修改属性：`attr()` / `removeAttr()` / `addClass()` / `removeClass()` / `css()`
  - 获取/设置表单值：`val()`
- 查找操作
  - 查找方法：`find()` /  `parent()` / `children()` / `siblings()` / `next()` / `nextAll()` / `prev()` / `prevAll()`
  - 筛选器：`filter()` / `not()` / `has()` / `is()` / `contains()`
  - 索引编号：`eq()`
- 尺寸和位置
  - 尺寸相关：`height()` / `width()` / `innerHeight()` / `innerWidth()` / `outerWidth()` / `outerHeight()`
  - 位置相关：`offset()` / `position()` / `scrollLeft()` / `scrollTop()`
- 特效和动画
  - 基本动画：`show()` / `hide()` / `toggle()`
  - 消失出现：`fadeIn()` / `fadeOut()` / `fadeTo()` / `fadeToggle()`
  - 滑动效果：`slideDown()` / `slideUp()` / `slideToggle()`
  - 自定义：`delay()` / `stop()` / `animate()`
- 事件
  - 文档加载：`ready()` / `load()`
  - 用户交互：`on()` / `off()`

#### 链式操作

#### 检测页面是否可用

```HTML
<script>
    $(document).ready(function() {
        
    });
</script>
```

```HTML
<script>
    $(function() {
        
    });
</script>
```

#### jQuery插件

- jQuery Validation
- jQuery Treeview
- jQuery Autocomplete
- jQuery UI

#### 避免和其他库的冲突

先引入其他库再引入jQuery的情况。

```HTML
<script src="other.js"></script>
<script src="jquery.js"></script>
<script>
	jQuery.noConflict();
    jQuery(function() {
        jQuery('div').hide();
    });
</script>
```

先引入jQuery再引入其他库的情况。

```HTML

<script src="jquery.js"></script>
<script src="other.js"></script>
<script>
    jQuery(function() {
        jQuery('div').hide();
    });
</script>
```

#### 使用Ajax

Ajax是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。

- 原生的Ajax
- 基于jQuery的Ajax
  - 加载内容
  - 提交表单

### 前端框架

#### 渐进式框架 - [Vue.js](<https://cn.vuejs.org/>)

前后端分离开发（前端渲染）必选框架。

##### 快速上手

1. 引入Vue的JavaScript文件，我们仍然推荐从CDN服务器加载它。

   ```HTML
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   ```

2. 数据绑定（声明式渲染 ）。

   ```HTML
   <div id="app">
   	<h1>{{ product }}库存信息</h1>
   </div>
   
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   <script>
   	const app = new Vue({
   		el: '#app',
   		data: {
   			product: 'iPhone X'
   		}
   	});
   </script>
   ```

3. 条件与循环。

   ```HTML
   <div id="app">
   	<h1>库存信息</h1>
       <hr>
   	<ul>
   		<li v-for="product in products">
   			{{ product.name }} - {{ product.quantity }}
   			<span v-if="product.quantity === 0">
   				已经售罄
   			</span>
   		</li>
   	</ul>
   </div>
   
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   <script>
   	const app = new Vue({
   		el: '#app',
   		data: {
   			products: [
   				{"id": 1, "name": "iPhone X", "quantity": 20},
   				{"id": 2, "name": "华为 Mate20", "quantity": 0},
   				{"id": 3, "name": "小米 Mix3", "quantity": 50}
   			]
   		}
   	});
   </script>
   ```

4. 计算属性。

   ```HTML
   <div id="app">
   	<h1>库存信息</h1>
   	<hr>
   	<ul>
   		<li v-for="product in products">
   			{{ product.name }} - {{ product.quantity }}
   			<span v-if="product.quantity === 0">
   				已经售罄
   			</span>
   		</li>
   	</ul>
   	<h2>库存总量：{{ totalQuantity }}台</h2>
   </div>
   
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   <script>
   	const app = new Vue({
   		el: '#app',
   		data: {
   			products: [
   				{"id": 1, "name": "iPhone X", "quantity": 20},
   				{"id": 2, "name": "华为 Mate20", "quantity": 0},
   				{"id": 3, "name": "小米 Mix3", "quantity": 50}
   			]
   		},
   		computed: {
   			totalQuantity() {
   				return this.products.reduce((sum, product) => {
   					return sum + product.quantity
   				}, 0);
   			}
   		}
   	});
   </script>
   ```

5. 处理事件。

   ```HTML
   <div id="app">
   	<h1>库存信息</h1>
   	<hr>
   	<ul>
   		<li v-for="product in products">
   			{{ product.name }} - {{ product.quantity }}
   			<span v-if="product.quantity === 0">
   				已经售罄
   			</span>
   			<button @click="product.quantity += 1">
   				增加库存
   			</button>
   		</li>
   	</ul>
   	<h2>库存总量：{{ totalQuantity }}台</h2>
   </div>
   
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   <script>
   	const app = new Vue({
   		el: '#app',
   		data: {
   			products: [
   				{"id": 1, "name": "iPhone X", "quantity": 20},
   				{"id": 2, "name": "华为 Mate20", "quantity": 0},
   				{"id": 3, "name": "小米 Mix3", "quantity": 50}
   			]
   		},
   		computed: {
   			totalQuantity() {
   				return this.products.reduce((sum, product) => {
   					return sum + product.quantity
   				}, 0);
   			}
   		}
   	});
   </script>
   ```

6. 用户输入。

   ```HTML
   <div id="app">
   	<h1>库存信息</h1>
   	<hr>
   	<ul>
   		<li v-for="product in products">
   			{{ product.name }} - 
   			<input type="number" v-model.number="product.quantity" min="0">
   			<span v-if="product.quantity === 0">
   				已经售罄
   			</span>
   			<button @click="product.quantity += 1">
   				增加库存
   			</button>
   		</li>
   	</ul>
   	<h2>库存总量：{{ totalQuantity }}台</h2>
   </div>
   
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   <script>
   	const app = new Vue({
   		el: '#app',
   		data: {
   			products: [
   				{"id": 1, "name": "iPhone X", "quantity": 20},
   				{"id": 2, "name": "华为 Mate20", "quantity": 0},
   				{"id": 3, "name": "小米 Mix3", "quantity": 50}
   			]
   		},
   		computed: {
   			totalQuantity() {
   				return this.products.reduce((sum, product) => {
   					return sum + product.quantity
   				}, 0);
   			}
   		}
   	});
   </script>
   ```

7. 通过网络加载JSON数据。

   ```HTML
   <div id="app">
   	<h2>库存信息</h2>
   	<ul>
   		<li v-for="product in products">
   			{{ product.name }} - {{ product.quantity }}
   			<span v-if="product.quantity === 0">
   				已经售罄
   			</span>
   		</li>
   	</ul>
   </div>
   
   <script src="https://cdn.jsdelivr.net/npm/vue"></script>
   <script>
   	const app = new Vue({
   		el: '#app',
   		data: {
   			products: []
   		}，
   		created() {
   			fetch('https://jackfrued.top/api/products')
   				.then(response => response.json())
   				.then(json => {
   					this.products = json
   				});
   		}
   	});
   </script>
   ```

##### 使用脚手架 - vue-cli

Vue为商业项目开发提供了非常便捷的脚手架工具vue-cli，通过工具可以省去手工配置开发环境、测试环境和运行环境的步骤，让开发者只需要关注要解决的问题。

1. 安装脚手架。
2. 创建项目。
3. 安装依赖包。
4. 运行项目。


#### UI框架 - [Element](<http://element-cn.eleme.io/#/zh-CN>)

基于Vue 2.0的桌面端组件库，用于构造用户界面，支持响应式布局。

1. 引入Element的CSS和JavaScript文件。

   ```HTML
   <!-- 引入样式 -->
   <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
   <!-- 引入组件库 -->
   <script src="https://unpkg.com/element-ui/lib/index.js"></script>
   ```

2. 一个简单的例子。

   ```HTML
   <!DOCTYPE html>
   <html>
   	<head>
   		<meta charset="UTF-8">
   		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
   	</head>
   	<body>
   		<div id="app">
   			<el-button @click="visible = true">点我</el-button>
   			<el-dialog :visible.sync="visible" title="Hello world">
   				<p>开始使用Element吧</p>
   			</el-dialog>
               </div>
   	</body>
   	<script src="https://unpkg.com/vue/dist/vue.js"></script>
   	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
   	<script>
   		new Vue({
   			el: '#app',
   			data: {
   				visible: false,
   			}
   		})
   	</script>
   </html>
   ```

3. 使用组件。

   ```HTML
   <!DOCTYPE html>
   <html>
   	<head>
   		<meta charset="UTF-8">
   		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
   	</head>
   	<body>
   		<div id="app">
   			<el-table :data="tableData" stripe style="width: 100%">
   				<el-table-column prop="date" label="日期" width="180">
   				</el-table-column>
   				<el-table-column prop="name" label="姓名" width="180">
   				</el-table-column>
   				<el-table-column prop="address" label="地址">
   				</el-table-column>
   			</el-table>
   		</div>
   	</body>
   	<script src="https://unpkg.com/vue/dist/vue.js"></script>
   	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
   	<script>
   		new Vue({
   			el: '#app',
   			data: {
   				tableData:  [
   					{
   						date: '2016-05-02',
   						name: '王一霸',
   						address: '上海市普陀区金沙江路 1518 弄'
   					}, 
   					{
   						date: '2016-05-04',
   						name: '刘二狗',
   						address: '上海市普陀区金沙江路 1517 弄'
   					}, 
   					{
   						date: '2016-05-01',
   						name: '杨三萌',
   						address: '上海市普陀区金沙江路 1519 弄'
   					}, 
   					{
   						date: '2016-05-03',
   						name: '陈四吹',
   						address: '上海市普陀区金沙江路 1516 弄'
   					}
   				]
   			}
   		})
   	</script>
   </html>
   ```


#### 报表框架 - [ECharts](<https://echarts.baidu.com>)

百度出品的开源可视化库，常用于生成各种类型的报表。

![](./res/baidu_echarts.png)

#### 基于弹性盒子的CSS框架 - [Bulma](<https://bulma.io/>)

Bulma是一个基于Flexbox的现代化的CSS框架，其初衷就是移动优先（Mobile First），模块化设计，可以轻松用来实现各种简单或者复杂的内容布局，即使不懂CSS的开发者也能够使用它定制出漂亮的页面。

```HTML
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Bulma</title>
	<link href="https://cdn.bootcss.com/bulma/0.7.4/css/bulma.min.css" rel="stylesheet">
	<style type="text/css">
		div { margin-top: 10px; }
		.column { color: #fff; background-color: #063; margin: 10px 10px; text-align: center; }
	</style>
</head>
<body>
	<div class="columns">
		<div class="column">1</div>
		<div class="column">2</div>
		<div class="column">3</div>
		<div class="column">4</div>
	</div>
	<div>
		<a class="button is-primary">Primary</a>
		<a class="button is-link">Link</a>
		<a class="button is-info">Info</a>
		<a class="button is-success">Success</a>
		<a class="button is-warning">Warning</a>
		<a class="button is-danger">Danger</a>
	</div>
	<div>
		<progress class="progress is-danger is-medium" max="100">60%</progress>
	</div>
	<div>
		<table class="table is-hoverable">
			<tr>
				<th>One</th>
				<th>Two</th>
			</tr>
			<tr>
				<td>Three</td>
				<td>Four</td>
			</tr>
			<tr>
				<td>Five</td>
				<td>Six</td>
			</tr>
			<tr>
				<td>Seven</td>
				<td>Eight</td>
			</tr>
			<tr>
				<td>Nine</td>
				<td>Ten</td>
			</tr>
			<tr>
				<td>Eleven</td>
				<td>Twelve</td>
			</tr>
		</table>
	</div>
</body>
</html>
```

#### 响应式布局框架 - [Bootstrap](<http://www.bootcss.com/>)

用于快速开发Web应用程序的前端框架，支持响应式布局。

1. 特点
   - 支持主流的浏览器和移动设备
   - 容易上手
   - 响应式设计

2. 内容
   - 网格系统
   - 封装的CSS
   - 现成的组件
   - JavaScript插件

3. 可视化

   ![](./res/bootstrap-layoutit.png)    
